<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:th="http://www.thymeleaf.org"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:sec="http://www.springframework.org/security/tags"
                template="adminmain.xhtml">




<ui:define name="head">
  <title>Register</title>


  <!-- Theme style -->
  <h:outputStylesheet library="css" name="theme.css"/>


</ui:define>

<ui:define name="nav-tabs">

  <ui:include src="templates/require/navbar.xhtml"/>

</ui:define>
<!-- -->
<ui:define name="conten-tabs">

  <div class="container-fluid">
    <!-- -->
    <div class="row">

      <div class="col-md-6 col-xs-12 col-md-offset-3" style="margin-top:160px;">


        <div class="row justify-content-md-center">
          <div class="panel panel-info">
            <div class="panel-heading"> <h2 style="text-align: center;">Register page</h2></div>
            <div class="panel-body">
              <div class="alert alert-success" style="font-size:18px; text-align:justify;">
                <h3 style="text-align: center; color: #2aabd2">Register infos</h3>
                <p:link href="#" onclick="myFunction()"> Click this <b>To auto Edit form: </b>   </p:link>
              </div>
              <h:form class="form-signin">
                <p:panel id="panel" header="New User" >

                  <p:messages id="msgs" />

                  <p:outputLabel for="fullname" value="User fullname:" />
                  <p:inputText id="fullname" value="#{basicView.user.fullname}" class="form-control" required="true" label="User fullname">
                    <f:validateLength minimum="4" />
                  </p:inputText>
                  <p:message for="fullname" display="icon" />



                  <p:outputLabel for="role" value="User Role:" />
                  <p:selectOneMenu  id="role"    required="true" label="Role" filter="true" filterMatchMode="contains"  value="#{basicView.user.role}" style="width:100%">
                    <c:forEach items="#{basicView.iroles}" var="cl" >
                      <f:selectItem  itemLabel="#{cl.get('name')}" itemValue="#{cl.get('name')}" />
                    </c:forEach>
                  </p:selectOneMenu>

                  <p:message for="role" display="icon" />





                  <p:outputLabel for="username" value="User name:" />
                  <p:inputText id="username" value="#{basicView.user.username}" class="form-control" required="true" label="User name">
                    <f:validateLength minimum="2" />
                  </p:inputText>
                  <p:message for="username" display="icon" />

                  <p:outputLabel for="email" value="Email adress:" />
                  <p:inputText id="email" value="#{basicView.user.email}" class="form-control" required="true" label="Email adress">
                    <f:validateLength minimum="6" />
                  </p:inputText>
                  <p:message for="email" display="icon" />

                  <p:outputLabel for="password" value="Password:" />
                  <p:password id="password" value="#{basicView.user.password}" class="form-control" placeholder="Password" required="true">
                    <f:validateLength minimum="4" />
                    <p:ajax update="msgPassword" event="keyup" />
                  </p:password>
                  <p:message for="password" id="msgPassword" display="icon" />

                  <p:outputLabel for="cpassword" value="Confirm Password:" />
                  <p:password id="cpassword"   class="form-control" placeholder="Confirm Password" required="true">
                    <f:validateLength minimum="4" />
                    <p:ajax update="msgcPassword" event="keyup" />
                  </p:password>
                  <p:message for="cpassword" id="msgcPassword" display="icon" />




                  <hr/>

                  <p:commandButton value="Save" update="panel" class="btn btn-primary btn-block" action="#{basicView.saveuser}" icon="pi pi-check" />
                </p:panel>
              </h:form>
            </div>
          </div>
        </div>



        </div>

      </div>
    </div>



</ui:define>


<ui:define name="footer-tabs">

  <ui:include src="templates/require/footer.xhtml"/>

  <script>
    function myFunction() {
      $("#username").val("dialrock");
      $("#receivefullname").val("dial rock 360");
      $("#password").val("1234");
      $("#cpassword").val("1234");
      $("#brday").val("2002-05-06");
      $("#email").val("dialrock360@gmail.com");
    }
  </script>
</ui:define>


</ui:composition>